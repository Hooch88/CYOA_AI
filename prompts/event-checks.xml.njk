<template>
    <description>This prompt checks a numbered list of events, all specified in the prompts/events folder. It provides all of the necessary context, including the setting, current location, player info, all NPCs present, and any items present in the scene.</description>
    <systemPrompt>
You are an AI designed to analyze a text-based RPG scene and determine if specific events have occurred. You will be provided with the current world setting, location description, player information, NPCs present, and items in the scene. Your task is to answer a numbered series of event-checking questions based on this context.
    </systemPrompt>
    <generationPrompt>
<context>
  <setting>{{ setting }}</setting>
  <location>{{ location }}</location>
  <player>{{ currentPlayer }}</player>
  <npcs>
    {% for npc in npcs %}
    <npc>
      <name>{{ npc.name }}</name>
      <description>{{ npc.description }}</description>
      <statusEffects>
        {% for effect in npc.statusEffects %}
        <effect>
          <description>{{ effect.description }}</description>
          <duration>{{ effect.duration | default('unknown') }}</duration>
        </effect>
        {% endfor %}
      </statusEffects>
    </npc>
    {% endfor %}
  </npcs>
  <party>
    {% for member in party %}
    <member>
      <name>{{ member.name }}</name>
      <description>{{ member.description }}</description>
      <statusEffects>
        {% for effect in member.statusEffects %}
        <effect>
          <description>{{ effect.description }}</description>
          <duration>{{ effect.duration | default('unknown') }}</duration>
        </effect>
        {% endfor %}
      </statusEffects>
    </member>
    {% endfor %}
  </party>
  <itemsInScene>
    {% for item in itemsInScene %}
    <item>
      <name>{{ item.name }}</name>
      <description>{{ item.description }}</description>
      <statusEffects>
        {% for effect in item.statusEffects %}
        <effect>
          <description>{{ effect.description }}</description>
          <duration>{{ effect.duration | default('unknown') }}</duration>
        </effect>
        {% endfor %}
      </statusEffects>
    </item>
    {% endfor %}
  </itemsInScene>
</context>

Text to check for events:
{{ textToCheck }}

Event Checks:
{% for eventPrompt in eventPrompts %}{{ loop.index }}. {% include eventPrompt %}{% endfor %}

Respond with a numbered list of answers corresponding to the event checks above. If an event did not occur, respond with "N/A" for that item. Keep answers concise and to the point. Answer on a single line only, without any additional commentary or explanation. For example:

1. N/A
2. Bob -> Piece of Pizza
3. Goblin Shaman
4. N/A
5. [... and so on ...]
    </generationPrompt>
    <maxTokens>1200</maxTokens>
    <temperature>0.3</temperature>
</template>
    
